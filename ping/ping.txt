一个网络包的旅程
    我们电脑上的数据，是如何“走”到远端的另一台电脑的呢？这是个最基础的问题，可能很多人回答不上来，
尽管我们每天都在使用网络。这里我们以一个最简单的“ping”命令，来解释一个数据包“旅程”。
        假设：我的电脑A，向远在外地的朋友电脑B传输数据，最简单的就是“ping”一下，看看这个家伙的那一端网络通不通。
    A与B之间只有一台路由器。（路由器可能放在学校，社区或者电信机房，无所谓，基本原理是一样的）具体过程如下------
        1．“ping”命令所产生的数据包，我们归类为ICMP协议。说白了就是向目的地发送一个数据包，然后等待回应，如果回
    应正常则目的地的网络就是通的。当我们输入了“ping”命令之后，我们的机器（电脑A）就生成了一个包含ICMP协议域
    的数据包，姑且称之为“小德”吧~~~~
        2．“小德”已经将ICMP协议打包到数据段里了，可是还不能发送，因为一个数据要想向外面传送，还得经过“有关部门”的批准
    ------IP协议。IP要将你的“写信人地址”和“收信人地址”写到数据段上面，即：将数据的源IP地址和目的IP地址分别打包在
    “小德”的头部和尾部，这样一来，大家才知道你的数据是要送到哪里。
        3．准备工作还没有完。接下来还有部门要审核------
    ARP。ARP属于数据链路层协议，主要负责把IP地址对应到硬件地址。直接说吧，都怪交换机太“傻”，不能根据IP地址直接找
    到相应的计算机，只能根据硬件地址来找。于是，交换机就经常保留一张IP地址与硬件地址的对应表以便其查找目的地。而ARP
    就是用来生成这张表的。比如：当“小德”被送到ARP手里之后，ARP就要在表里面查找，看看“小德”的IP地址与交换机的哪个端
    口对应，然后转发过去。如果没找到，则发一个广播给所有其他的交换机端口，问这是谁的IP地址，如果有人回答，就转发给它。
        4．经过一番折腾，“小德”终于要走出这个倒霉的局域网了。可在此之前，它们还没忘给“小德”屁股后面盖个“戳”，说是什么
    CRC校验值，怕“小德”在旅行途中缺胳膊少腿，还得麻烦它们重新发送。。。。。我靠~~~~注：很多人弄不清FCS和CRC。所谓
    的CRC是一种校验方法，用来确保数据在传输过程中不会丢包，损坏等等，FCS是数据包（准确的说是frame）里的一个区域，
    用来存放CRC的计算结果的。到了目的地之后，目的计算机要检查FCS里的CRC值，如果与原来的相同，则说明数据在途中没有损坏。
        5．在走出去之前，那些家伙最后折磨了一次“小德”------把小德身上众多的0和1，弄成了什么“高电压”“低电压”，在双绞线上
    传送了出去。晕~~出趟门就这么麻烦吗？
        6．坐着双绞线旅游，爽！可当看到很多人坐着同轴电缆，还有坐光纤的时候，小德又感
    觉不是那么爽了。就在这时，来到了旅途的中转站------路由器。这地方可是高级场所，人家直接查看IP地址！剩下的一概不管，
    交给下面的人去做。够牛吧？路由器的内部也有一张表，叫做路由表，里面标识着哪一个网络的IP对应着路由器的哪一个端口。这
    个表也不是天生就有的，而是靠路由器之间互相“学习”之后生成的，当然也可以由管理员手工设定。这个“学习”的过程是依靠路由
    协议来完成的，比如RIP，EIGRP，OSPF等等。
        7．当路由器查看了“小德”的IP地址以后，根据路由表知道了小德要去的网络，接
    着就把小德转到了相应的端口了。至此，路由器的主要工作完成，下面又是打包，封装成frame，转换成电压信号等一系列“折腾”
    的活，就由数据链路层和物理层的模块去干吧。
        8．小德从路由器的出口出来，便来到了目的地----电脑B----所属的网络的默认
    网关。默认网关可以是路由器的一个端口，也可以是局域网里的各种服务器。不管怎样，下面的过程还是一样的：到交换机里的ARP
    表查询“小德”的IP地址，看看属于哪个局域网段或端口，然后就转发到B了。
        9．进了B的网卡之后，还要层层“剥皮”，基本上和从
    A出来的程序是一样的------电脑B先校验一下CRC值，看看数据是否完整；然后检查一下frame的封装，看到是IP协议之后，就把
    “小德”交给IP“部门”了；IP协议一看目的地址，正确，再看看应用协议，是ICMP。于是知道了该怎么做了------产生一个回应数
    据包，（可以命名为“回应小德”），并准备以同样的顺序向远端的A发送。。至于刚刚收到的那个数据包就丢弃了。10．“回应小德
    ”这个数据包又开始了上述同样的循环，只不过这次发送者是B而接收者是A了。以上是一个最简单的路由过程，任何复杂的网络都是
    在次基础之上实现的。
